<div class="resources-page">
  <div class="header-row">
    <div>
      <h1 class="page-title">Bibliothèque de Ressources</h1>
      <p class="page-subtitle">Ressources pédagogiques ciblées par niveau de risque</p>
    </div>
    <button class="add-btn" (click)="openModal()">
      <span>+</span> Ajouter une ressource
    </button>
  </div>

  <!-- Stats Grid -->
  <div class="stats-grid">
    <div class="stat-card" *ngFor="let stat of stats">
      <span class="stat-label">{{ stat.label }}</span>
      <span class="stat-count">{{ stat.count }}</span>
    </div>
  </div>

  <!-- Filters -->
  <div class="filters-card">
    <div class="search-wrapper">
      <span class="filter-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </span>
      <input type="text" [(ngModel)]="searchTerm" placeholder="Rechercher une ressource...">
    </div>
    <div class="dropdown-wrapper">
      <span class="filter-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
        </svg>
      </span>
      <select [(ngModel)]="selectedType">
        <option>Tous les types</option>
        <option>Vidéos</option>
        <option>Documents</option>
        <option>Quiz</option>
      </select>
    </div>
    <div class="dropdown-wrapper">
      <span class="filter-icon">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
        </svg>
      </span>
      <select [(ngModel)]="selectedLevel">
        <option>Tous les niveaux</option>
        <option>Élevé</option>
        <option>Moyen</option>
        <option>Faible</option>
      </select>
    </div>
  </div>

  <!-- Resources Grid -->
  <div class="resources-grid">
    <div class="resource-card" *ngFor="let res of filteredResources">
      <div class="delete-icon">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="3 6 5 6 21 6"></polyline>
          <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
        </svg>
      </div>

      <div class="card-icon">
        <svg *ngIf="res.type === 'video'" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2">
          <polygon points="23 7 16 12 23 17 23 7"></polygon>
          <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
        </svg>
        <svg *ngIf="res.type === 'document'" width="20" height="20" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        <svg *ngIf="res.type === 'quiz' || res.type === 'exercise'" width="20" height="20" viewBox="0 0 24 24"
          fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 11l3 3L22 4"></path>
          <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
        </svg>
      </div>

      <h3 class="res-title">{{ res.title }}</h3>
      <p class="res-desc">{{ res.desc }}</p>

      <div class="tags-row">
        <span class="tag" [ngClass]="getTagTypeClass(res.tagType)">{{ res.tagType }}</span>
        <span class="tag" [ngClass]="getTagLevelClass(res.tagLevelColor)">{{ res.tagLevel }}</span>
      </div>

      <button class="access-btn">Accéder</button>
    </div>
  </div>

  <!-- Add Resource Modal -->
  <div class="modal-overlay" *ngIf="showModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Ajouter une ressource</h2>
        <button class="close-btn" (click)="closeModal()">×</button>
      </div>

      <div class="form-group">
        <label>Titre</label>
        <input type="text">
      </div>

      <div class="form-group">
        <label>Type</label>
        <select>
          <option>Document</option>
          <option>Vidéo</option>
          <option>Quiz</option>
        </select>
      </div>

      <div class="form-group">
        <label>Niveau de risque ciblé</label>
        <select>
          <option>Tous</option>
          <option>Élevé</option>
          <option>Moyen</option>
          <option>Faible</option>
        </select>
      </div>

      <div class="form-group">
        <label>Description</label>
        <textarea></textarea>
      </div>

      <div class="modal-actions">
        <button class="btn-cancel" (click)="closeModal()">Annuler</button>
        <button class="btn-submit">Ajouter</button>
      </div>
    </div>
  </div>
</div>